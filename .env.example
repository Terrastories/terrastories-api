# =============================================================================
# TERRASTORIES API ENVIRONMENT CONFIGURATION
# Copy to .env and configure for your environment
# =============================================================================

# APPLICATION CONFIGURATION
NODE_ENV=development                    # Options: development|production|field-kit|test
PORT=3000                              # API server port
HOST=0.0.0.0                          # Bind address (0.0.0.0 for containers)
BUILD_TARGET=development               # Docker build target: development|production

# DATABASE CONFIGURATION
DATABASE_URL=./data.db                 # SQLite for development, PostgreSQL for production  
DATABASE_URL_PROD=postgresql://terrastories:PASSWORD@db:5432/terrastories
DATABASE_URL_TEST=:memory:             # In-memory SQLite for testing
POSTGRES_PASSWORD=terrastories123      # PostgreSQL password (CHANGE IN PRODUCTION!)

# SECURITY CONFIGURATION (CRITICAL - CHANGE IN PRODUCTION!)
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-required-for-security
SESSION_SECRET=your-session-secret-minimum-32-characters-required-for-cookies
PASSWORD_ALGORITHM=argon2id            # Password hashing algorithm
PASSWORD_ARGON2_MEMORY=65536           # Argon2 memory cost (64MB)
PASSWORD_ARGON2_ITERATIONS=3           # Argon2 time cost
PASSWORD_ARGON2_PARALLELISM=4          # Argon2 parallelism

# API & CORS CONFIGURATION
CORS_ORIGIN=http://localhost:3001      # Frontend application URL for CORS
API_PREFIX=/api/v1                     # API URL prefix
LOG_LEVEL=debug                        # Options: debug|info|warn|error

# FILE UPLOAD CONFIGURATION
UPLOAD_DIR=./uploads                   # Directory for uploaded files
UPLOAD_MAX_FILE_SIZE=10485760         # Max file size in bytes (10MB)
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/webp,audio/mpeg,audio/wav,video/mp4,video/webm
UPLOAD_CLEANUP_INTERVAL=86400000      # Cleanup interval in ms (24 hours)

# OFFLINE & FIELD KIT CONFIGURATION
OFFLINE_MODE=false                     # Enable offline-first mode
TILE_SERVER_URL=http://tileserver:8080 # Map tile server URL
SYNC_ENDPOINT=https://api.terrastories.org  # Remote sync endpoint
FIELD_KIT_MODE=false                   # Enable field kit optimizations

# PRODUCTION SSL/TLS CONFIGURATION (Production only)
SSL_CERT_PATH=/etc/ssl/certs/terrastories.crt    # SSL certificate path
SSL_KEY_PATH=/etc/ssl/private/terrastories.key   # SSL private key path
SSL_DHPARAM_PATH=/etc/ssl/dhparam.pem            # DH parameters path

# MONITORING & HEALTH CHECKS
HEALTH_CHECK_ENDPOINT=/health          # Health check URL
METRICS_ENABLED=true                   # Enable Prometheus metrics
SENTRY_DSN=                           # Sentry error tracking DSN (optional)

# DEVELOPMENT CONFIGURATION (Development only)
HOT_RELOAD=true                       # Enable hot reloading in dev mode
DEBUG_PORT=9229                       # Node.js debug port